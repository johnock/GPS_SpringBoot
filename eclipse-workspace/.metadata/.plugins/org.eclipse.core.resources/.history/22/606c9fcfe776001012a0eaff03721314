package com.example.findpathserver.model;

import jakarta.persistence.*;

@Entity
@Table(name = "COURSE_POINTS")
@SequenceGenerator(
    name = "COURSE_POINTS_SEQ",
    sequenceName = "COURSE_POINTS_SEQ",  // ✅ DB에 없는 경우 생성 필요
    allocationSize = 1
)
public class CoursePoint {

	@Id
    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "COURSE_POINTS_SEQ") // ✅
    @Column(name = "POINT_ID")   // ✅ PK 컬럼명 (테이블과 다르면 실제명으로 변경)
    private Long id;        // PK (테이블에 맞춰 이름 조정)

    @Column(name = "ORD")
    private int ord;        // 순서

    @Column(name = "LAT")
    private double lat;     // 위도

    @Column(name = "LNG")
    private double lng;     // 경도

    @ManyToOne
    @JoinColumn(name = "COURSE_ID", nullable = false) // ✅ FK 컬럼명
    private Course course;  // FK → COURSES.COURSE_ID

    public CoursePoint() {}

    public CoursePoint(int ord, double lat, double lng) {
        this.ord = ord;
        this.lat = lat;
        this.lng = lng;
    }

    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }

    public int getOrd() { return ord; }
    public void setOrd(int ord) { this.ord = ord; }

    public double getLat() { return lat; }
    public void setLat(double lat) { this.lat = lat; }

    public double getLng() { return lng; }
    public void setLng(double lng) { this.lng = lng; }

    public Course getCourse() { return course; }
    public void setCourse(Course course) { this.course = course; }
}
